<div
  *ngIf="projects.length > 0; else emptyState"
  class="border border-gray-200 rounded-lg overflow-hidden bg-white"
>
  <div class="max-h-[38rem] overflow-y-auto">
    <table class="w-full">
      <thead class="bg-gray-50 sticky top-0 z-10">
      <tr class="text-left">
        <th class="px-4 py-3 text-sm font-medium text-gray-600">#</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600">Title</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600">Description</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600">Date</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600">Status</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600">Priority</th>
        <th class="px-4 py-3 text-sm font-medium text-gray-600 text-center">Actions</th>
      </tr>
      </thead>

      <tbody class="divide-y divide-gray-200">
      <tr
        *ngFor="let project of projects"
        class="hover:bg-gray-50 transition"
      >
        <td class="px-4 py-3 text-sm">{{ project.id }}</td>
        <td class="px-4 py-3 font-medium">{{ project.title }}</td>
        <td class="px-4 py-3 text-gray-600 truncate max-w-xs">
          {{ project.description }}
        </td>
        <td class="px-4 py-3 text-gray-600">{{ project.date }}</td>

        <td class="px-4 py-3">
            <span
              class="px-2.5 py-1 rounded-full text-xs font-medium"
              [ngClass]="project.statusColor"
            >
              {{ project.status }}
            </span>
        </td>

        <td class="px-4 py-3">
            <span
              class="px-2.5 py-1 rounded-full text-xs font-medium"
              [ngClass]="project.priorityColor"
            >
              {{ project.priority }}
            </span>
        </td>

        <td class="px-4 py-3 text-center">
          <div class="flex justify-center gap-3 text-gray-500">
            <lucide-icon
              name="eye"
              class="w-4 h-4 cursor-pointer hover:text-blue-600"
            ></lucide-icon>

            <lucide-icon
              name="trash-2"
              class="w-4 h-4 cursor-pointer hover:text-red-600"
            ></lucide-icon>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<ng-template #emptyState>
  <div
    class="flex flex-col items-center justify-center border border-dashed border-gray-300 rounded-lg p-10 bg-gray-50 text-center"
  >
    <lucide-icon
      name="folder-open"
      class="w-10 h-10 text-gray-400 mb-3"
    ></lucide-icon>

    <h3 class="text-gray-700 font-medium">
      Aucun projet trouvé
    </h3>

    <p class="text-sm text-gray-500 mt-1">
      Commencez par créer votre premier projet.
    </p>

    <button
      class="mt-4 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition"
    >
      + Nouveau projet
    </button>
  </div>
</ng-template>
